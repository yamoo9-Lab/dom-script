<!DOCTYPE html>
<html lang="ko-KR">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta charset="UTF-8">
	<title>Javascript 클로저(Closure)</title>
	<script>

		// // 클로저의 실 활용 예시
		// function attr(prop) {
		// 	var _prop = prop;
		// 	return function(el, value) {
		// 		el.setAttribute(_prop, value);
		// 	}
		// }

		// var setTitle = attr('title');
		// var setId = attr('id');
		// var setClass = attr('class');

		// setTitle(document.getElementById('ho'), 'ho title');
		// setId(document.getElementById('ho'), 'ho-title');
		// setClass(document.getElementById('ho'), 'ho title');

		// // 함수는 별도의 영역(Scope)를 가진다.
		// // 외부에서 접근 차단
		// // 클로저란? 함수 내부의 함수를 말한다.
		function countDown(num) {
			var _num = num;
			var innerCountDown = function() {
				return _num--;
			};

			return innerCountDown;
		}

		var countDown10 = countDown(10);
		var countDown40 = countDown(40);
		var countDown100 = countDown(100);
		var countDown1000 = countDown(1000);
	</script>
</head>
<body>

	<nav>
		<ul>
			<li><a href="">야무.</a></li>
			<li><a href="">숨 죽여도!</a></li>
			<li><a href="">해도.</a></li>
			<li><a href="">어디에나.</a></li>
			<li><a href="">쿵쿵대는.</a></li>
			<li><a href="">실수조차도.</a></li>
			<li><a href="">하고.</a></li>
			<li><a href="">내일의.</a></li>
		</ul>
	</nav>

<script>
	var nav = document.querySelector('nav');
	var nav_links = nav.querySelectorAll('a');

	for(var item, i=0, l=nav_links.length; i<l; i++) {
		item = nav_links[i];
		item.index = i;
		item.onclick = (function() {
			var index = i;
			return function() {
				console.log(index);
				return false;
			}
		})();
		// item.onclick = function() {
		// 	console.log(this.index);
		// 	return false;
		// }
	}

</script>
</body>
</html>