<!DOCTYPE html>
<html lang="ko-KR">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta charset="UTF-8">
	<title>시간을 제어하는 자!</title>
	<style>
		#target {
			cursor: pointer;
		}
		.on { background: #f00; }
	</style>
</head>
<body>

	<div id="target">division</div>

<script>

(function(global){
	// 'use strict';

	/**
	 * DOM 탐색
	 * --------------------------------
	 */
	var targetEl = document.querySelector('#target');

	// targetEl 요소에 마우스가 진입했을 때 이벤트 발동 -> 주기(interval)마다 함수 targetElToggleClass 실행
	targetEl.onmouseenter = function() {
		// console.log('enter');
		global.intervalID = setInterval(targetElToggleClass.bind(this), 1000);
	}
	// targetEl 요소에 마우스가 빠져나갔을 때 이벤트 발동 -> 주기마다 수행되는 동작 중지
	targetEl.onmouseleave = function() {
		// console.log('leave');
		clearInterval(intervalID);
	}
	// 전역(Global)에서 접근 가능하도록 조치한 targetElToggleClass 함수
	// this는 콘텍스트(context)를 가리키는 참조자로 함수를 호출하는 콘텍스트에 따라 값이 변하게 된다.
	global.targetElToggleClass = function() {
		// console.log(this);
		this.classList.toggle('on');
	};

	// global은 전역을 의미하는 스코프 함수(영역) 내에서만 사용하는 지역 변수 (명시적 설정)
	// global.intervalID = setInterval(targetElToggleClass.bind(targetEl), 1000);

})(window);
</script>
</body>
</html>